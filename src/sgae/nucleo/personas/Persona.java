package sgae.nucleo.personas;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * Clase que recoge las características de una persona y los métodos para 
 * consultar o modificar dichas características.
 * @author Eduardo Gómez Sánchez y Manuel Rodríguez Cayetano. ETSIT. UVa
 * @version 1.0
 */
public class Persona {
    /** El DNI de la persona */
    private String dni;
    /** El nombre de la persona */
    private String nombre;
    /** Los apellidos de la persona */
    private String apellidos;
    /** La fecha de nacimiento de la persona */
    private Date fechaNacimiento;
    
    /** 
     * Constructor con los atributos que se pueden inicializar de partida. 
     * Nota: la fecha de nacimiento se pasa como una cadena con el formato 
     * dd-MM-yyyy .
     *
     * @param dni El DNI de la persona
     * @param nombre El nombre de la persona
     * @param apellidos Los apellidos de la persona
     * @param fechaNacimiento La fecha de nacimiento de la persona, se 
     * pasa como una cadena dd-MM-yyyy
     * @throws ParseException si el parámetro <i>fechaNacimiento</i> no tiene 
     * el formato dd-MM-yyyy
     */
    public Persona(String dni, String nombre, String apellidos,	
		   String fechaNacimiento) 
	throws ParseException {
	super();
	// Inicializa con valores pasados como parámetros
	this.dni = dni;
	this.nombre = nombre;
	this.apellidos = apellidos;
	SimpleDateFormat dateFormat = new SimpleDateFormat("dd-MM-yyyy");
	dateFormat.setLenient(false);
	this.fechaNacimiento = dateFormat.parse(fechaNacimiento);
    }
    
    /**
     * Método que lee el DNI.
     * NOTA: El DNI sólo se puede leer, no escribir.
     * @return el valor del DNI
     */
    public String getDni() {
	return dni;
    }
    
    /**
     * Método que lee el nombre.
     * @return el nombre de la persona
     */
    public String getNombre() {
	return nombre;
    }
    
    /**
     * Método que modifica el nombre.
     * @param nuevoNombre el nuevo nombre para la persona
     */
    public void setNombre(String nuevoNombre) {
	nombre = nuevoNombre;
    }
    
    /**
     * Método que lee los apellidos.
     * @return los apellidos de la persona
     */
    public String getApellidos() {
	return apellidos;
    }
    
    /**
     * Método que modifica los apellidos.
     * @param nuevosApellidos los nuevos apellidos de la persona
     */
    public void setApellidos(String nuevosApellidos) {
	apellidos = nuevosApellidos;
    }
    
    /** 
     * Método que devuelve la fecha de nacimiento como una cadena.
     * @return la fecha de nacimiento en formato dd-MM-yyyy
     */
    public String getFechaNacimiento() {
	return new SimpleDateFormat("dd-MM-yyyy").format(fechaNacimiento);
    }
    
    /**
     * Método que cambia la fecha a partir de una cadena.
     * @param nuevaFechaNacimiento la nueva fecha de nacimiento de la persona
     * @throws ParseException si el parámetro <i>fechaNacimiento</i> no tiene 
     * el formato dd-MM-yyyy
     */
    public void setFechaNacimiento(String nuevaFechaNacimiento) 
	throws ParseException {
	SimpleDateFormat dateFormat = new SimpleDateFormat("dd-MM-yyyy");
	dateFormat.setLenient(false);
	this.fechaNacimiento = dateFormat.parse(nuevaFechaNacimiento);
    }
    
    /**
     * Método que devuelve en una única cadena la información básica de la 
     * persona.
     * @return la descripción breve de la persona
     */
    public String verDescripcionBreve() {
	return "DNI: " + dni + "\tNombre: " + nombre + "\tApellidos: " + apellidos + "\n";
    }
    
    /**
     * Método que devuelve en una única cadena la información completa de 
     * la persona.
     * @return la descripción completa de la persona
     */
    public String verDescripcionCompleta() {
	return "DNI: " + dni + "\t" +
	    "Nombre: " + nombre + "\t" +
	    "Apellidos: " + apellidos + "\t" +
	    "fecha de nacimiento: " + getFechaNacimiento() + "\n";
    }
}
